<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clear Day - Smoking Cessation Tracker</title>
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="app-title">
                <span class="logo">🌤️</span>
                Clear Day
            </h1>
            <p class="app-subtitle">Your journey to freedom starts here</p>
        </header>

        <!-- Loading State -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Loading your progress...</p>
        </div>

        <!-- Main Content -->
        <main id="mainContent" class="main-content" style="display: none;">

            <!-- Welcome Screen (shown when no active streak) -->
            <div id="welcomeScreen" class="welcome-screen">
                <div class="welcome-card">
                    <h2>✨ Ready to Start Your Journey? ✨</h2>
                    <p>🌟 Take the first step towards a smoke-free life! Every journey begins with a single step, and
                        you're already showing incredible courage by being here. 💪</p>

                    <div class="settings-form">
                        <div class="form-group">
                            <label for="cigarettesPerDay">Cigarettes per day:</label>
                            <input type="number" id="cigarettesPerDay" min="1" max="100" value="20">
                        </div>

                        <div class="form-group">
                            <label for="pricePerPack">Price per pack (₹):</label>
                            <input type="number" id="pricePerPack" min="1" max="1000" step="1" value="150">
                        </div>

                        <div class="form-group">
                            <label for="cigarettesPerPack">Cigarettes per pack:</label>
                            <input type="number" id="cigarettesPerPack" min="10" max="30" value="20">
                        </div>
                    </div>

                    <button id="startJourney" class="btn btn-primary btn-large">
                        🚀 Start My Amazing Journey! 🚀
                    </button>
                </div>
            </div>

            <!-- Dashboard (shown when streak is active) -->
            <div id="dashboard" class="dashboard">

                <!-- Streak Counter -->
                <div class="streak-card">
                    <div class="streak-header">
                        <h2>Smoke-Free Streak</h2>
                        <div class="streak-icon">🔥</div>
                    </div>

                    <div class="streak-display">
                        <div class="streak-number">
                            <span id="daysCount">0</span>
                            <span class="streak-label">Days</span>
                        </div>
                        <div class="streak-details">
                            <span id="timeDetails">0 hours, 0 minutes</span>
                        </div>
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card money">
                        <div class="stat-icon">💰</div>
                        <div class="stat-content">
                            <div class="stat-value">₹<span id="moneySaved">0</span></div>
                            <div class="stat-label">Money Saved</div>
                        </div>
                    </div>

                    <div class="stat-card cigarettes">
                        <div class="stat-icon">🚭</div>
                        <div class="stat-content">
                            <div class="stat-value"><span id="cigarettesAvoided">0</span></div>
                            <div class="stat-label">Cigarettes Avoided</div>
                        </div>
                    </div>
                </div>

                <!-- Health Progress -->
                <div class="health-card">
                    <h3>Lifetime Regained</h3>
                    <div class="lifetime-metric">
                        <div class="lifetime-display">
                            <div class="lifetime-value">
                                <span id="lifetimeRegained">0</span>
                                <span class="lifetime-unit">minutes</span>
                            </div>
                            <div class="lifetime-description">
                                of precious life regained! 🌟
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Achievements -->
                <div class="achievements-card">
                    <h3>Achievements Unlocked</h3>
                    <div id="achievementsList" class="achievements-list">
                        <div class="no-achievements">
                            <p>Complete your first day to unlock amazing achievements!</p>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button id="settingsBtn" class="btn btn-secondary">
                        ⚙️ Customize Settings
                    </button>
                </div>
            </div>
        </main>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Settings</h3>
                    <button id="closeModal" class="close-btn">&times;</button>
                </div>

                <div class="modal-body">
                    <div class="form-group">
                        <label for="settingsCigarettesPerDay">Cigarettes per day:</label>
                        <input type="number" id="settingsCigarettesPerDay" min="1" max="100">
                    </div>

                    <div class="form-group">
                        <label for="settingsPricePerPack">Price per pack (₹):</label>
                        <input type="number" id="settingsPricePerPack" min="1" max="1000" step="1">
                    </div>

                    <div class="form-group">
                        <label for="settingsCigarettesPerPack">Cigarettes per pack:</label>
                        <input type="number" id="settingsCigarettesPerPack" min="10" max="30">
                    </div>
                </div>

                <div class="modal-footer">
                    <button id="saveSettings" class="btn btn-primary">Save Changes</button>
                    <button id="cancelSettings" class="btn btn-secondary">Cancel</button>
                    <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #eee;">
                        <button id="resetBtn" class="btn btn-danger-small"
                            style="font-size: 0.8rem; padding: 8px 12px; background: #ff6b6b; opacity: 0.7;">
                            Reset Journey
                        </button>
                        <p style="font-size: 0.7rem; color: #999; margin-top: 5px;">⚠️ This will erase all your progress
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reset Confirmation Modal -->
        <div id="resetModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Reset Streak?</h3>
                    <button id="closeResetModal" class="close-btn">&times;</button>
                </div>

                <div class="modal-body">
                    <p>Are you sure you want to reset your streak? This action cannot be undone.</p>
                    <p><strong>Don't give up!</strong> Every journey has its challenges. Consider this a learning
                        experience and restart when you're ready.</p>
                </div>

                <div class="modal-footer">
                    <button id="confirmReset" class="btn btn-danger">Yes, Reset</button>
                    <button id="cancelReset" class="btn btn-secondary">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/app.js"></script>
</body>

</html>